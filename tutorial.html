<!DOCTYPE html>
<html lang="es">
<head>
  <!-- FAMILYNK Icons & PWA -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#7A9E7E">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="FAMILYNK">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAMILYNK ‚Äî Tutorial</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&family=Nunito:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #7A9E7E;
            --sage-light: #9DB8A0;
            --sage-dark: #5C7A5F;
            --cream: #F8F5F0;
            --cream-dark: #EDE8E0;
            --terracotta: #C4836A;
            --terracotta-light: #D4A08A;
            --brown: #8B7355;
            --text-dark: #3D3D3D;
            --text-light: #6B6B6B;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Nunito', sans-serif;
            background: var(--cream);
            color: var(--text-dark);
            min-height: 100vh;
            overflow: hidden;
        }

        /* ============ CONTENEDOR PRINCIPAL ============ */
        .tutorial-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* ============ HEADER ============ */
        .tutorial-header {
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--cream-dark);
        }

        .logo {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--sage-dark);
            letter-spacing: 0.1em;
        }

        .header-controls {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .btn-icon {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 2px solid var(--cream-dark);
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s;
        }

        .btn-icon:hover {
            border-color: var(--sage);
            background: var(--sage);
            color: white;
            transform: scale(1.05);
        }

        .btn-icon.active {
            background: var(--sage);
            border-color: var(--sage);
            color: white;
        }

        .btn-salir {
            padding: 10px 20px;
            background: transparent;
            border: 2px solid var(--terracotta);
            color: var(--terracotta);
            border-radius: 25px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-salir:hover {
            background: var(--terracotta);
            color: white;
        }

        /* ============ PROGRESS BAR ============ */
        .progress-container {
            padding: 0 30px;
            background: white;
        }

        .progress-bar {
            height: 4px;
            background: var(--cream-dark);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--sage), var(--terracotta));
            border-radius: 2px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            opacity: 0.4;
            transition: all 0.3s;
            cursor: pointer;
        }

        .progress-step.active, .progress-step.completed {
            opacity: 1;
        }

        .step-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--cream-dark);
            transition: all 0.3s;
        }

        .progress-step.active .step-dot {
            background: var(--sage);
            transform: scale(1.3);
            box-shadow: 0 0 0 4px rgba(122, 158, 126, 0.2);
        }

        .progress-step.completed .step-dot {
            background: var(--sage);
        }

        .step-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* ============ CONTENIDO SLIDES ============ */
        .slides-container {
            flex: 1;
            position: relative;
            overflow: hidden;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            opacity: 0;
            transform: translateX(100px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }

        .slide.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: auto;
        }

        .slide.exit {
            opacity: 0;
            transform: translateX(-100px);
        }

        .slide-content {
            max-width: 900px;
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        .slide-visual {
            position: relative;
        }

        .visual-main {
            font-size: 10rem;
            text-align: center;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .visual-decoration {
            position: absolute;
            font-size: 2rem;
            opacity: 0.6;
            animation: orbit 8s linear infinite;
        }

        .visual-decoration:nth-child(2) { top: 10%; left: 10%; animation-delay: 0s; }
        .visual-decoration:nth-child(3) { top: 20%; right: 5%; animation-delay: -2s; }
        .visual-decoration:nth-child(4) { bottom: 20%; left: 5%; animation-delay: -4s; }
        .visual-decoration:nth-child(5) { bottom: 10%; right: 15%; animation-delay: -6s; }

        @keyframes orbit {
            0% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(5deg); }
            50% { transform: translateY(0) rotate(0deg); }
            75% { transform: translateY(10px) rotate(-5deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }

        .slide-text {
            text-align: left;
        }

        .slide-number {
            font-family: 'Quicksand', sans-serif;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--terracotta);
            text-transform: uppercase;
            letter-spacing: 0.2em;
            margin-bottom: 10px;
        }

        .slide-title {
            font-family: 'Quicksand', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--sage-dark);
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .slide-description {
            font-size: 1.1rem;
            color: var(--text-light);
            line-height: 1.8;
            margin-bottom: 25px;
        }

        .slide-tip {
            background: linear-gradient(135deg, var(--sage-light) 0%, var(--sage) 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 0.95rem;
            display: flex;
            gap: 12px;
            align-items: flex-start;
            box-shadow: 0 4px 15px rgba(122, 158, 126, 0.3);
        }

        .slide-tip-icon {
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        /* ============ NAVEGACI√ìN ============ */
        .tutorial-nav {
            padding: 25px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            border-top: 1px solid var(--cream-dark);
        }

        .nav-btn {
            padding: 14px 30px;
            border-radius: 30px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-btn-prev {
            background: transparent;
            border: 2px solid var(--cream-dark);
            color: var(--text-light);
        }

        .nav-btn-prev:hover {
            border-color: var(--sage);
            color: var(--sage);
        }

        .nav-btn-prev.hidden {
            visibility: hidden;
        }

        .nav-btn-next {
            background: var(--sage);
            border: none;
            color: white;
            box-shadow: 0 4px 15px rgba(122, 158, 126, 0.3);
        }

        .nav-btn-next:hover {
            background: var(--sage-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(122, 158, 126, 0.4);
        }

        .nav-dots {
            display: flex;
            gap: 10px;
        }

        .nav-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--cream-dark);
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-dot.active {
            background: var(--sage);
            transform: scale(1.2);
        }

        .nav-dot:hover {
            background: var(--sage-light);
        }

        /* ============ INDICADOR DE VOZ ============ */
        .voice-indicator {
            position: fixed;
            bottom: 100px;
            right: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            background: white;
            border-radius: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s;
        }

        .voice-indicator.active {
            opacity: 1;
            transform: translateY(0);
        }

        .voice-waves {
            display: flex;
            gap: 3px;
            align-items: center;
        }

        .voice-wave {
            width: 3px;
            height: 15px;
            background: var(--sage);
            border-radius: 2px;
            animation: wave 0.5s ease-in-out infinite;
        }

        .voice-wave:nth-child(1) { animation-delay: 0s; height: 10px; }
        .voice-wave:nth-child(2) { animation-delay: 0.1s; height: 18px; }
        .voice-wave:nth-child(3) { animation-delay: 0.2s; height: 12px; }
        .voice-wave:nth-child(4) { animation-delay: 0.3s; height: 20px; }
        .voice-wave:nth-child(5) { animation-delay: 0.4s; height: 8px; }

        @keyframes wave {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(0.5); }
        }

        .voice-text {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        /* ============ RESPONSIVE ============ */
        @media (max-width: 900px) {
            .slide-content {
                grid-template-columns: 1fr;
                gap: 30px;
                text-align: center;
            }

            .slide-text { text-align: center; }
            .visual-main { font-size: 6rem; }
            .slide-title { font-size: 2rem; }
            
            .progress-steps { display: none; }
        }

        /* ============ ANIMACIONES DE ENTRADA ============ */
        .animate-in {
            animation: slideUp 0.6s ease forwards;
        }

        .animate-in:nth-child(1) { animation-delay: 0.1s; }
        .animate-in:nth-child(2) { animation-delay: 0.2s; }
        .animate-in:nth-child(3) { animation-delay: 0.3s; }
        .animate-in:nth-child(4) { animation-delay: 0.4s; }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Slide especial: Empezar */
        .slide-final .slide-content {
            grid-template-columns: 1fr;
            text-align: center;
        }

        .slide-final .slide-text {
            text-align: center;
        }

        .final-cta {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }

        .btn-cta {
            padding: 16px 35px;
            border-radius: 30px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
        }

        .btn-cta-primary {
            background: var(--sage);
            border: none;
            color: white;
            box-shadow: 0 4px 15px rgba(122, 158, 126, 0.3);
        }

        .btn-cta-primary:hover {
            background: var(--sage-dark);
            transform: translateY(-2px);
        }

        .btn-cta-secondary {
            background: transparent;
            border: 2px solid var(--terracotta);
            color: var(--terracotta);
        }

        .btn-cta-secondary:hover {
            background: var(--terracotta);
            color: white;
        }

        .checklist {
            text-align: left;
            max-width: 400px;
            margin: 0 auto 30px;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--cream-dark);
            font-size: 1.05rem;
        }

        .checklist-icon {
            width: 28px;
            height: 28px;
            background: var(--sage);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="tutorial-container">
        <!-- Header -->
        <header class="tutorial-header">
            <div class="logo">FAMILYNK</div>
            <div class="header-controls">
                <button class="btn-icon" id="btn-voice" title="Activar/Desactivar voz" onclick="toggleVoice()">
                    üîä
                </button>
                <button class="btn-icon" id="btn-autoplay" title="Reproducci√≥n autom√°tica" onclick="toggleAutoplay()">
                    ‚ñ∂Ô∏è
                </button>
                <button class="btn-salir" onclick="window.location.href='index.html'">
                    Salir del tutorial
                </button>
            </div>
        </header>

        <!-- Progress -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-steps">
                <div class="progress-step active" onclick="goToSlide(0)">
                    <div class="step-dot"></div>
                    <span class="step-label">Bienvenida</span>
                </div>
                <div class="progress-step" onclick="goToSlide(1)">
                    <div class="step-dot"></div>
                    <span class="step-label">Bienes</span>
                </div>
                <div class="progress-step" onclick="goToSlide(2)">
                    <div class="step-dot"></div>
                    <span class="step-label">Comunicaci√≥n</span>
                </div>
                <div class="progress-step" onclick="goToSlide(3)">
                    <div class="step-dot"></div>
                    <span class="step-label">Din√°micas</span>
                </div>
                <div class="progress-step" onclick="goToSlide(4)">
                    <div class="step-dot"></div>
                    <span class="step-label">Mayordomo</span>
                </div>
                <div class="progress-step" onclick="goToSlide(5)">
                    <div class="step-dot"></div>
                    <span class="step-label">Legado</span>
                </div>
                <div class="progress-step" onclick="goToSlide(6)">
                    <div class="step-dot"></div>
                    <span class="step-label">Integraci√≥n</span>
                </div>
                <div class="progress-step" onclick="goToSlide(7)">
                    <div class="step-dot"></div>
                    <span class="step-label">Activaci√≥n</span>
                </div>
                <div class="progress-step" onclick="goToSlide(8)">
                    <div class="step-dot"></div>
                    <span class="step-label">Empezar</span>
                </div>
            </div>
        </div>

        <!-- Slides -->
        <div class="slides-container">
            <!-- Slide 1: Bienvenida -->
            <div class="slide active" data-slide="0">
                <div class="slide-content">
                    <div class="slide-visual">
                        <div class="visual-main">üëã</div>
                        <div class="visual-decoration">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                        <div class="visual-decoration">üè†</div>
                        <div class="visual-decoration">üíö</div>
                        <div class="visual-decoration">üå≥</div>
                    </div>
                    <div class="slide-text">
                        <div class="slide-number animate-in">Paso 1 de 9</div>
                        <h2 class="slide-title animate-in">¬°Bienvenido a FAMILYNK!</h2>
                        <p class="slide-description animate-in">
                            Una plataforma pensada para familias reales: las que viven juntas, las separadas, las reconstituidas, las de toda la vida. Aqu√≠ no hay familias perfectas, solo familias que quieren organizarse mejor.
                        </p>
                        <div class="slide-tip animate-in">
                            <span class="slide-tip-icon">üí°</span>
                            <span><strong>Filosof√≠a:</strong> Si alguien no quiere participar, perfecto. Esto es completamente voluntario.</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 2: Lo Com√∫n -->
            <div class="slide" data-slide="1">
                <div class="slide-content">
                    <div class="slide-visual">
                        <div class="visual-main">üè†</div>
                        <div class="visual-decoration">üöó</div>
                        <div class="visual-decoration">üèñÔ∏è</div>
                        <div class="visual-decoration">üå≥</div>
                        <div class="visual-decoration">üîë</div>
                    </div>
                    <div class="slide-text">
                        <div class="slide-number">Paso 2 de 9</div>
                        <h2 class="slide-title">Lo Com√∫n: los bienes compartidos</h2>
                        <p class="slide-description">
                            El apartamento de la playa, la finca del pueblo, el coche que us√°is entre todos... Son bienes que hay que cuidar, mantener y usar de forma coordinada. Aqu√≠ los gestion√°is juntos sin l√≠os.
                        </p>
                        <div class="slide-tip">
                            <span class="slide-tip-icon">üí°</span>
                            <span><strong>Tip:</strong> Empieza registrando el bien que m√°s conflictos genera. Ver√°s c√≥mo mejora todo.</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 3: Comunicaci√≥n -->
            <div class="slide" data-slide="2">
                <div class="slide-content">
                    <div class="slide-visual">
                        <div class="visual-main">üí¨</div>
                        <div class="visual-decoration">üì±</div>
                        <div class="visual-decoration">‚úâÔ∏è</div>
                        <div class="visual-decoration">üìÖ</div>
                        <div class="visual-decoration">üîî</div>
                    </div>
                    <div class="slide-text">
                        <div class="slide-number">Paso 3 de 9</div>
                        <h2 class="slide-title">Comunicaci√≥n sin ruido</h2>
                        <p class="slide-description">
                            Olv√≠date de los grupos de WhatsApp interminables. Aqu√≠ la informaci√≥n importante tiene su lugar: eventos, decisiones, actualizaciones. Cada miembro ve lo que le afecta, sin spam familiar.
                        </p>
                        <div class="slide-tip">
                            <span class="slide-tip-icon">üí°</span>
                            <span><strong>Tip:</strong> Usa el chat para lo urgente, el tabl√≥n para lo importante.</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 4: Din√°micas -->
            <div class="slide" data-slide="3">
                <div class="slide-content">
                    <div class="slide-visual">
                        <div class="visual-main">üè°</div>
                        <div class="visual-decoration">üîë</div>
                        <div class="visual-decoration">üìä</div>
                        <div class="visual-decoration">üöó</div>
                        <div class="visual-decoration">üèñÔ∏è</div>
                    </div>
                    <div class="slide-text">
                        <div class="slide-number">Paso 4 de 9</div>
                        <h2 class="slide-title">Din√°micas que funcionan</h2>
                        <p class="slide-description">
                            Reservar el apartamento de la playa, coordinar qui√©n va qu√© fin de semana, ver qu√© estancias hay programadas... Solicitas desde tu panel, el administrador aprueba, y el calendario se actualiza con colores por tipo. Sin conflictos, sin malentendidos.
                        </p>
                        <div class="slide-tip">
                            <span class="slide-tip-icon">üí°</span>
                            <span><strong>Tip:</strong> Las reglas las pon√©is vosotros. El sistema solo las hace cumplir.</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 5: Mayordomo -->
            <div class="slide" data-slide="4">
                <div class="slide-content">
                    <div class="slide-visual">
                        <div class="visual-main">üè°</div>
                        <div class="visual-decoration">üé©</div>
                        <div class="visual-decoration">üíº</div>
                        <div class="visual-decoration">üåæ</div>
                        <div class="visual-decoration">üìÖ</div>
                    </div>
                    <div class="slide-text">
                        <div class="slide-number">Paso 5 de 9</div>
                        <h2 class="slide-title">La gesti√≥n de tus bienes</h2>
                        <p class="slide-description">
                            Cada bien compartido puede tener su propio sistema de gesti√≥n. <strong>Mayordomo</strong> para viviendas familiares (estancias, eventos, otros), <strong>Gerente</strong> para alquiler tur√≠stico (reservas, hu√©spedes, actividad) y <strong>Capataz</strong> para fincas r√∫sticas (cacer√≠as, recolecciones). Act√≠valos y elige los m√≥dulos que necesites.
                        </p>
                        <div class="slide-tip">
                            <span class="slide-tip-icon">üí°</span>
                            <span><strong>Tip:</strong> Empieza activando solo Reservas en un bien. Ya activar√°s m√°s m√≥dulos cuando los necesites.</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 6: Legado -->
            <div class="slide" data-slide="5">
                <div class="slide-content">
                    <div class="slide-visual">
                        <div class="visual-main">üìú</div>
                        <div class="visual-decoration">üëµ</div>
                        <div class="visual-decoration">üéÑ</div>
                        <div class="visual-decoration">üç≤</div>
                        <div class="visual-decoration">üí´</div>
                    </div>
                    <div class="slide-text">
                        <div class="slide-number">Paso 6 de 9</div>
                        <h2 class="slide-title">El Legado: lo que se hereda sin escrituras</h2>
                        <p class="slide-description">
                            Las recetas de la abuela, las historias de c√≥mo lleg√≥ la familia aqu√≠, las tradiciones de Navidad, los valores que os transmitieron... Todo ese patrimonio inmaterial que pasa de generaci√≥n en generaci√≥n tiene aqu√≠ su refugio.
                        </p>
                        <div class="slide-tip">
                            <span class="slide-tip-icon">üí°</span>
                            <span><strong>Tip:</strong> Graba a los mayores contando sus historias. Es el mejor regalo para los que vendr√°n.</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 7: Integraci√≥n -->
            <div class="slide" data-slide="6">
                <div class="slide-content">
                    <div class="slide-visual">
                        <div class="visual-main">ü§ù</div>
                        <div class="visual-decoration">üíí</div>
                        <div class="visual-decoration">üë∂</div>
                        <div class="visual-decoration">üéä</div>
                        <div class="visual-decoration">‚ù§Ô∏è</div>
                    </div>
                    <div class="slide-text">
                        <div class="slide-number">Paso 7 de 9</div>
                        <h2 class="slide-title">Todos caben</h2>
                        <p class="slide-description">
                            Las parejas que entran en la familia tienen plenos derechos desde el d√≠a uno. Y no vienen con las manos vac√≠as: sus tradiciones, historias y recetas enriquecen el legado com√∫n de todos.
                        </p>
                        <div class="slide-tip">
                            <span class="slide-tip-icon">üí°</span>
                            <span><strong>Tip:</strong> Invita a los consortes a a√±adir sus propias tradiciones. Es su familia tambi√©n.</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 8: Activaci√≥n -->
            <div class="slide" data-slide="7">
                <div class="slide-content">
                    <div class="slide-visual">
                        <div class="visual-main">üñ•Ô∏è</div>
                        <div class="visual-decoration">üîß</div>
                        <div class="visual-decoration">üìÖ</div>
                        <div class="visual-decoration">üìã</div>
                        <div class="visual-decoration">üè†</div>
                    </div>
                    <div class="slide-text">
                        <div class="slide-number">Paso 8 de 9</div>
                        <h2 class="slide-title">Tu panel personal: el CGI</h2>
                        <p class="slide-description">
                            Tu Consola de Gesti√≥n Individual re√∫ne todo en un vistazo: acciones r√°pidas, tus reservas, calendario familiar, tabl√≥n de avisos y acceso directo a los bienes. Cada miembro ve solo lo que le corresponde seg√∫n su rol.
                        </p>
                        <div class="slide-tip">
                            <span class="slide-tip-icon">üí°</span>
                            <span><strong>Tip:</strong> Los botones de acci√≥n r√°pida (CTAs) son el camino m√°s corto para solicitar reservas, reportar aver√≠as o proponer ideas.</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 9: Empezar -->
            <div class="slide slide-final" data-slide="8">
                <div class="slide-content">
                    <div class="slide-text">
                        <div class="slide-number">Paso 9 de 9</div>
                        <h2 class="slide-title">üöÄ ¬øPor d√≥nde empezar?</h2>
                        <div class="checklist">
                            <div class="checklist-item">
                                <span class="checklist-icon">1</span>
                                <span>Crea tu rama familiar</span>
                            </div>
                            <div class="checklist-item">
                                <span class="checklist-icon">2</span>
                                <span>Configura tu primer nido</span>
                            </div>
                            <div class="checklist-item">
                                <span class="checklist-icon">3</span>
                                <span>Invita a los miembros</span>
                            </div>
                            <div class="checklist-item">
                                <span class="checklist-icon">4</span>
                                <span>A√±ade vuestros bienes comunes</span>
                            </div>
                            <div class="checklist-item">
                                <span class="checklist-icon">5</span>
                                <span>¬°Dejad que el sistema trabaje!</span>
                            </div>
                        </div>
                        <div class="slide-tip" style="max-width: 400px; margin: 0 auto 30px;">
                            <span class="slide-tip-icon">üí°</span>
                            <span><strong>Recuerda:</strong> Esto no es una carrera. Id a vuestro ritmo.</span>
                        </div>
                        <div class="final-cta">
                            <a href="registro.html" class="btn-cta btn-cta-primary">Crear mi ecosistema</a>
                            <a href="login.html" class="btn-cta btn-cta-secondary">Ya tengo cuenta</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navegaci√≥n -->
        <nav class="tutorial-nav">
            <button class="nav-btn nav-btn-prev hidden" id="btn-prev" onclick="prevSlide()">
                ‚Üê Anterior
            </button>
            <div class="nav-dots">
                <div class="nav-dot active" onclick="goToSlide(0)"></div>
                <div class="nav-dot" onclick="goToSlide(1)"></div>
                <div class="nav-dot" onclick="goToSlide(2)"></div>
                <div class="nav-dot" onclick="goToSlide(3)"></div>
                <div class="nav-dot" onclick="goToSlide(4)"></div>
                <div class="nav-dot" onclick="goToSlide(5)"></div>
                <div class="nav-dot" onclick="goToSlide(6)"></div>
                <div class="nav-dot" onclick="goToSlide(7)"></div>
                <div class="nav-dot" onclick="goToSlide(8)"></div>
            </div>
            <button class="nav-btn nav-btn-next" id="btn-next" onclick="nextSlide()">
                Siguiente ‚Üí
            </button>
        </nav>
    </div>

    <!-- Indicador de voz -->
    <div class="voice-indicator" id="voice-indicator">
        <div class="voice-waves">
            <div class="voice-wave"></div>
            <div class="voice-wave"></div>
            <div class="voice-wave"></div>
            <div class="voice-wave"></div>
            <div class="voice-wave"></div>
        </div>
        <span class="voice-text">Narrando...</span>
    </div>

    <!-- ResponsiveVoice para voces m√°s naturales -->
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=vIqKvPEj"></script>
    
    <script>
        // ============ ESTADO ============
        let currentSlide = 0;
        const totalSlides = 9;
        let voiceEnabled = true;
        let autoplayEnabled = false;
        let autoplayTimer = null;
        let synth = window.speechSynthesis;
        let currentUtterance = null;
        let useResponsiveVoice = true; // Usar ResponsiveVoice por defecto (m√°s natural)
        let spanishVoice = null;

        // Textos para la voz (m√°s conversacionales y c√°lidos)
        const voiceTexts = [
            "¬°Hola! Bienvenido a FAMILYNK. Una plataforma pensada para familias reales, como la tuya. Aqu√≠ no buscamos familias perfectas, solo familias que quieren organizarse un poquito mejor.",
            "Lo Com√∫n son los bienes que compart√≠s. El apartamento de la playa, la finca del pueblo, el coche que us√°is entre todos... Son cosas que hay que cuidar, mantener y usar de forma coordinada. Aqu√≠ los gestion√°is juntos sin l√≠os.",
            "Comunicaci√≥n sin ruido. Olv√≠date de los grupos de WhatsApp interminables donde se pierde todo. Aqu√≠ la informaci√≥n importante tiene su sitio. Cada miembro ve solo lo que le afecta, sin agobios.",
            "Din√°micas que funcionan de verdad. Reservar el apartamento, saber qui√©n tiene las llaves, repartir los gastos... Todo automatizado. El sistema detecta conflictos y os ayuda a resolverlos.",
            "Te presento al Mayordomo. Es tu asistente personal para cada bien com√∫n. Act√≠valo y elige qu√© m√≥dulos necesitas: reservas, inventario, gastos, mantenimiento o limpieza. Cada propiedad puede tener su propia configuraci√≥n.",
            "El Legado es lo que se hereda sin escrituras. Las recetas de la abuela, las historias de c√≥mo lleg√≥ la familia aqu√≠, las tradiciones de Navidad, los valores que os transmitieron... Todo ese patrimonio inmaterial que pasa de generaci√≥n en generaci√≥n tiene aqu√≠ su refugio.",
            "Aqu√≠ todos caben. Las parejas que entran en la familia tienen los mismos derechos desde el primer d√≠a. Y no vienen con las manos vac√≠as: sus tradiciones enriquecen el legado de todos.",
            "Activaci√≥n familiar. Conecta con Google Calendar, Todoist o tus aplicaciones favoritas. Programa eventos, crea tareas compartidas y recibe recordatorios. Todo sincronizado para que nadie se pierda nada importante.",
            "¬øY por d√≥nde empezamos? Es muy f√°cil. Primero creas tu rama familiar, luego configuras tu nido, invitas a los miembros, a√±ad√≠s vuestros bienes comunes, y dej√°is que el sistema trabaje por vosotros. Sin prisas, a vuestro ritmo."
        ];

        // ============ NAVEGACI√ìN ============
        function goToSlide(index) {
            if (index < 0 || index >= totalSlides || index === currentSlide) return;

            // Detener voz actual
            stopVoice();

            // Animar salida
            const currentEl = document.querySelector('.slide.active');
            currentEl.classList.add('exit');
            currentEl.classList.remove('active');

            // Actualizar √≠ndice
            const direction = index > currentSlide ? 1 : -1;
            currentSlide = index;

            // Animar entrada
            setTimeout(() => {
                document.querySelectorAll('.slide').forEach(s => s.classList.remove('exit'));
                const newSlide = document.querySelector(`[data-slide="${index}"]`);
                newSlide.classList.add('active');
            }, 100);

            // Actualizar UI
            updateUI();

            // Reproducir voz (el autoplay se programa cuando termine de hablar)
            if (voiceEnabled) {
                setTimeout(() => speak(voiceTexts[currentSlide]), 500);
            } else if (autoplayEnabled) {
                // Sin voz pero con autoplay: usar tiempo fijo
                scheduleAutoplay(6000);
            }
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                goToSlide(currentSlide + 1);
            } else {
                // √öltimo slide - ir a registro
                window.location.href = 'registro.html';
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                goToSlide(currentSlide - 1);
            }
        }

        function updateUI() {
            // Progress bar
            const progress = ((currentSlide + 1) / totalSlides) * 100;
            document.getElementById('progress-fill').style.width = `${progress}%`;

            // Progress steps
            document.querySelectorAll('.progress-step').forEach((step, i) => {
                step.classList.remove('active', 'completed');
                if (i === currentSlide) step.classList.add('active');
                if (i < currentSlide) step.classList.add('completed');
            });

            // Nav dots
            document.querySelectorAll('.nav-dot').forEach((dot, i) => {
                dot.classList.toggle('active', i === currentSlide);
            });

            // Bot√≥n anterior
            document.getElementById('btn-prev').classList.toggle('hidden', currentSlide === 0);

            // Bot√≥n siguiente
            const btnNext = document.getElementById('btn-next');
            if (currentSlide === totalSlides - 1) {
                btnNext.innerHTML = 'Empezar ‚Üí';
            } else {
                btnNext.innerHTML = 'Siguiente ‚Üí';
            }
        }

        // ============ VOZ ============
        function speak(text) {
            if (!voiceEnabled) {
                // Si no hay voz pero hay autoplay, usar tiempo estimado
                if (autoplayEnabled) {
                    scheduleAutoplay(6000);
                }
                return;
            }

            stopVoice();

            if (useResponsiveVoice && typeof responsiveVoice !== 'undefined') {
                // ResponsiveVoice - voz m√°s natural
                responsiveVoice.speak(text, "Spanish Female", {
                    pitch: 1.05,
                    rate: 0.92,
                    volume: 1,
                    onstart: () => {
                        document.getElementById('voice-indicator').classList.add('active');
                    },
                    onend: () => {
                        document.getElementById('voice-indicator').classList.remove('active');
                        // Autoplay: esperar 1.5s tras terminar de hablar y avanzar
                        if (autoplayEnabled) {
                            scheduleAutoplay(1500);
                        }
                    }
                });
            } else if (synth) {
                // Fallback a Web Speech API
                currentUtterance = new SpeechSynthesisUtterance(text);
                currentUtterance.lang = 'es-ES';
                currentUtterance.rate = 0.9;
                currentUtterance.pitch = 1.1;

                // Buscar la mejor voz espa√±ola femenina
                const voices = synth.getVoices();
                const preferredVoices = [
                    'Monica', 'M√≥nica', 'Laura', 'Paulina', 'Conchita', 
                    'Lucia', 'Elvira', 'Helena', 'Microsoft Helena',
                    'Google espa√±ol'
                ];
                
                let selectedVoice = voices.find(v => 
                    v.lang === 'es-ES' && preferredVoices.some(pv => v.name.includes(pv))
                );
                
                if (!selectedVoice) {
                    selectedVoice = voices.find(v => v.lang === 'es-ES');
                }
                if (!selectedVoice) {
                    selectedVoice = voices.find(v => v.lang.startsWith('es'));
                }
                
                if (selectedVoice) currentUtterance.voice = selectedVoice;

                currentUtterance.onstart = () => {
                    document.getElementById('voice-indicator').classList.add('active');
                };

                currentUtterance.onend = () => {
                    document.getElementById('voice-indicator').classList.remove('active');
                    // Autoplay: esperar 1.5s tras terminar de hablar y avanzar
                    if (autoplayEnabled) {
                        scheduleAutoplay(1500);
                    }
                };

                synth.speak(currentUtterance);
            }
        }

        function stopVoice() {
            // Parar ResponsiveVoice
            if (typeof responsiveVoice !== 'undefined') {
                responsiveVoice.cancel();
            }
            // Parar Web Speech API
            if (synth) {
                synth.cancel();
            }
            document.getElementById('voice-indicator').classList.remove('active');
        }

        function toggleVoice() {
            voiceEnabled = !voiceEnabled;
            const btn = document.getElementById('btn-voice');
            btn.classList.toggle('active', voiceEnabled);
            btn.innerHTML = voiceEnabled ? 'üîä' : 'üîá';
            
            if (!voiceEnabled) {
                stopVoice();
            } else {
                speak(voiceTexts[currentSlide]);
            }
        }

        // ============ AUTOPLAY ============
        function toggleAutoplay() {
            autoplayEnabled = !autoplayEnabled;
            const btn = document.getElementById('btn-autoplay');
            btn.classList.toggle('active', autoplayEnabled);
            btn.innerHTML = autoplayEnabled ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è';

            if (autoplayEnabled && !voiceEnabled) {
                // Si no hay voz, usar tiempo fijo
                scheduleAutoplay(6000);
            }
            // Si hay voz, el autoplay se activa cuando termine de hablar
            
            if (!autoplayEnabled) {
                clearTimeout(autoplayTimer);
            }
        }

        function scheduleAutoplay(delay = 1500) {
            clearTimeout(autoplayTimer);
            if (currentSlide < totalSlides - 1 && autoplayEnabled) {
                autoplayTimer = setTimeout(() => {
                    nextSlide();
                }, delay);
            }
        }

        // ============ TECLADO ============
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                prevSlide();
            } else if (e.key === 'Escape') {
                window.location.href = 'index.html';
            }
        });

        // ============ INICIALIZACI√ìN ============
        window.onload = () => {
            // Verificar si ResponsiveVoice est√° disponible
            if (typeof responsiveVoice !== 'undefined') {
                responsiveVoice.init();
                console.log('ResponsiveVoice cargado correctamente');
            } else {
                useResponsiveVoice = false;
                console.log('Usando Web Speech API como fallback');
                // Cargar voces nativas
                if (synth) {
                    synth.getVoices();
                    synth.onvoiceschanged = () => synth.getVoices();
                }
            }

            // Actualizar UI inicial
            updateUI();

            // Activar bot√≥n de voz por defecto
            document.getElementById('btn-voice').classList.add('active');

            // Reproducir voz inicial tras interacci√≥n o delay
            // ResponsiveVoice necesita interacci√≥n en algunos navegadores
            const startVoice = () => {
                if (voiceEnabled) speak(voiceTexts[0]);
                document.removeEventListener('click', startVoice);
            };
            
            // Intentar reproducir autom√°ticamente
            setTimeout(() => {
                if (voiceEnabled) {
                    speak(voiceTexts[0]);
                }
            }, 1500);
        };

        // Limpiar al salir
        window.onbeforeunload = () => {
            stopVoice();
        };
    </script>
</body>
</html>
